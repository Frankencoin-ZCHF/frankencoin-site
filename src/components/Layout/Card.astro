---
interface Props {
  href?: string;
  external?: boolean;
  image?: string;
  imageAlt?: string;
  badge?: string;
  descriptions?: string[];
  linkLabel?: string;
  shadow?: "none" | "sm" | "md" | "lg";
  bg?: "white" | "neutral" | "brand";
}

const {
  href,
  external = true,
  image,
  imageAlt = "",
  badge,
  descriptions = [],
  linkLabel,
  shadow = "sm",
  bg = "white",
} = Astro.props as Props;

const shadows = {
  none: "",
  sm: "shadow-sm",
  md: "shadow-md",
  lg: "shadow-lg",
};

const bgs = {
  white: "bg-white",
  neutral: "bg-[var(--color-neutral-100)]",
  brand: "bg-[var(--color-brand-swiss)] text-white",
};

const base =
  "rounded-lg overflow-hidden transition hover:scale-[1.02] hover:shadow-lg duration-200";
---

{
  href ? (
    <a
      href={href}
      target={external ? "_blank" : undefined}
      rel={external ? "noopener noreferrer" : undefined}
      class={`card-ecosystem block ${base} ${shadows[shadow]} ${bgs[bg]}`}
    >
      {image && (
        <div class="header-2 flex items-center justify-between">
          <img
            src={image}
            alt={imageAlt}
            loading="lazy"
            class="vectors-wrapper-23"
          />
          {badge && (
            <div class="badge">
              <div class="text-17">{badge}</div>
            </div>
          )}
        </div>
      )}

      <div class="about p-4 space-y-4">
        {descriptions.length > 0 && (
          <div class="description-2 space-y-3">
            {descriptions.map((d) => (
              <div class="paragraph-35 gray">{d}</div>
            ))}
          </div>
        )}

        {linkLabel && (
          <div class="link-2 flex items-center justify-between pt-2">
            <div class="body-2-stronger">{linkLabel}</div>
            <div class="flex gap-1">
              <img
                width="24"
                height="24"
                alt=""
                src="/images/Logo-Blue.svg"
                loading="lazy"
                class="card-arrow blue"
              />
              <img
                src="/images/arrow_outward_2.svg"
                loading="lazy"
                alt=""
                class="image-21"
              />
            </div>
          </div>
        )}
      </div>
    </a>
  ) : (
    <div class={`card-ecosystem ${base} ${shadows[shadow]} ${bgs[bg]}`}>
      <slot />
    </div>
  )
}
